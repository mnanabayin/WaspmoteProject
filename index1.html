<!doctype html>
<html>
  <head>
    <title>WaspMote Sıcaklık Verileri</title>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body { font: 13px Helvetica, Arial; }
      form { background: #000; padding: 3px; position: fixed; bottom: 0; width: 100%; }
      form input { border: 0; padding: 10px; width: 90%; margin-right: .5%; }
      form button { width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; }
      #messages { list-style-type: none; margin: 0; padding: 0; }
      #messages li { padding: 5px 10px; }
      #messages li:nth-child(odd) { background: #eee; }
    </style>


     <!-- <link rel="stylesheet" type="text/css" href="https://bitbucket.org/cleonello/jqplot/raw/b5a7796a9ebf/src/jquery.jqplot.css" />

      <script src="https://bitbucket.org/cleonello/jqplot/raw/b5a7796a9ebf/src/jquery.jqplot.js" type="text/javascript"></script>
      <script src="https://bitbucket.org/cleonello/jqplot/raw/b5a7796a9ebf/src/plugins/jqplot.barRenderer.js"></script>
      <script src="https://bitbucket.org/cleonello/jqplot/raw/b5a7796a9ebf/src/plugins/jqplot.categoryAxisRenderer.js"></script>

-->





      <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
      <script type="text/javascript" src="http://localhost/HomeAutomation/JS/dist/jquery.jqplot.min.js"></script>
      <script type="text/javascript" src="http://localhost/HomeAutomation/JS/dist/plugins/jqplot.canvasTextRenderer.min.js"></script>
      <script type="text/javascript" src="http://localhost/HomeAutomation/JS/dist/plugins/jqplot.canvasAxisLabelRenderer.min.js"></script>

      <script type="text/javascript" src="http://localhost/HomeAutomation/JS/dist/plugins/jqplot.dateAxisRenderer.min.js"></script>
      <script type="text/javascript" src="http://localhost/HomeAutomation/JS/dist/plugins/jqplot.logAxisRenderer.min.js"></script>
      <script type="text/javascript" src="http://localhost/HomeAutomation/JS/dist/plugins/jqplot.canvasAxisTickRenderer.min.js"></script>
      <script type="text/javascript" src="http://localhost/HomeAutomation/JS/dist/plugins/jqplot.highlighter.min.js"></script>


      <link rel="stylesheet" type="text/css" hrf="http://localhost/HomeAutomation/JS/dist/jquery.jqplot.min.css" />
      <link rel="stylesheet" type="text/css" hrf="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.0/themes/smoothness/jquery-ui.css" />


      <!-- <script type="text/javascript" src="../src/plugins/jqplot.canvasTextRenderer.min.js"></script>
       <script type="text/javascript" src="../src/plugins/jqplot.canvasAxisLabelRenderer.min.js"></script>


       <script language="javascript" type="text/javascript" src="jquery.min.js"></script>
       <script language="javascript" type="text/javascript" src="jquery.jqplot.min.js"></script>
       <link rel="stylesheet" type="text/css" href="jquery.jqplot.css" />-->

  </head>
  <body>Grafik
    <ul id="messages">mesajlar...</ul>

    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <!--<script>
      var socket = io();
      /*$('form').submit(function(){
        socket.emit('chat message', $('#m').val());
        $('#m').val('');
        return false;
      });*/
      socket.on('temperature', function(msg){
        $('#messages').append($('<li>').text(msg));
      });
    </script>-->


  <!----------------Grafik------------>
  <div id="chart1" class="plot" style="width:700px;height:500px;">Çizim</div>

  <script type="text/javascript">
      var socket = io();
      var myData = [];
      socket.on('temperature', function(msg){
          $('#messages').append($('<li>').text(msg));
          myData.push(msg);
      });

      $(document).ready(function() {

          $.jqplot._noToImageButton = true;

          var plot1 = $.jqplot('chart1', [new Array(1)], {


              seriesColors: ["rgba(78, 135, 194, 0.7)", "rgb(211, 235, 59)"],
              title: 'Monthly TurnKey Revenue',
              highlighter: {
                  show: true,
                  sizeAdjust: 1,
                  tooltipOffset: 9
              },
              grid: {
                  background: 'rgba(57,57,57,0.0)',
                  drawBorder: false,
                  shadow: false,
                  gridLineColor: '#666666',
                  gridLineWidth: 2
              },
              legend: {
                  show: true,
                  placement: 'outside'
              },
              seriesDefaults: {
                  rendererOptions: {
                      smooth: true,
                      animation: {
                          show: true
                      }
                  },
                  showMarker: false
              },

              series: [
                  {
                      fill: true,
                      label: '2010'
                  },
                  {
                      label: '2011'
                  }
              ],
              axesDefaults: {
                  rendererOptions: {
                      baselineWidth: 1.5,
                      baselineColor: '#444444',
                      drawBaseline: false
                  }
              },
              axes: {
                  xaxis: {
                      renderer: $.jqplot.DateAxisRenderer,
                      tickRenderer: $.jqplot.CanvasAxisTickRenderer,
                      tickOptions: {
                          formatString: "%b %e",
                          angle: -30,
                          textColor: '#dddddd'
                      },
                      min: "2011-08-01",
                      max: "2011-09-30",
                      tickInterval: "7 days",
                      drawMajorGridlines: false
                  },
                  yaxis: {
                      renderer: $.jqplot.LogAxisRenderer,
                      pad: 0,
                      rendererOptions: {
                          minorTicks: 1
                      },
                      tickOptions: {
                          formatString: "$%'d",
                          showMark: false
                      }
                  }
              }
          });

          $('.jqplot-highlighter-tooltip').addClass('ui-corner-all');

          var myData = [];
          var x = (new Date()).getTime() - 101000;
          var y;
          var i;
          for ( i = 0; i < 100; i++) {
              x += 1000;
              y = Math.floor(Math.random() * 100);
              myData.push([x, y]);
          }

          plot1.series[0].data = myData;
          plot1.resetAxesScale();
          plot1.axes.xaxis.numberTicks = 10;
          plot1.axes.yaxis.numberTicks = 15;
          plot1.replot();

          function updateSeries() {
              myData.splice(0, 1);
              x = (new Date()).getTime();
              y = Math.floor(Math.random() * 100);
              myData.push([x, y]);

              plot1.series[0].data = myData;
              plot1.resetAxesScale();
              plot1.axes.xaxis.numberTicks = 10;
              plot1.axes.yaxis.numberTicks = 15;
              plot1.replot();
          }

          window.setInterval(updateSeries, 1000);


      });



  </script>




  </body>
</html>
